<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Step06_for2.html</title>
</head>
<body>
	<div class="container" id="app">
		<input id="one" v-model="inputMsg" type="text" placeholder="메세지 입력"/>
		<button @click="clicked">추가</button>
		<ul>
			<li v-for="tmp in msgs">{{tmp}}</li>
		</ul>
	</div>
	<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
	<script>
		new Vue({
			el:"#app",
			data:{
				msgs:["hi"],
				inputMsg:""
			},
			methods:{
				clicked(){
					//모델로 관리되는 배열에 msg 를 추가하기
					//this.msgs.push(this.inputMsg);
					/*
						배열은 concat() 이라는 함수를 가지고 있다.
						기존 배열에 저장된 내용에 아이템이 추가된 새로운 배열의 참조값을 리턴하는 함수
						즉 새로운 배열의 참조값을 얻어내서 모델에 덮어쓰기가 된다.
					*/
					//this.msgs=this.msgs.concat(this.inputMsg)
					/*
					새로운 배열안에 this. msgs 배열에 저장된 아이템을 펼져놓고,
					this.inputMsg 를 추가하여 모델에 덮어쓰기
					*/
					this.msgs = [...this.msgs, this.inputMsg];
					//입력창 초기화
					this.inputMsg="";
					//input 요소에 focus 주기
					document.querySelector("#one").focus();
				}
			}
		});
	</script>
</body>
</html>